<!DOCTYPE html>
<html lang="en">
<head>
	<title>CHARTA CAELI</title>
	<link rel="shortcut icon" href="brandicon.ico">

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=M+PLUS+Rounded+1c:300,400,500,700&amp;subset=greek">

	<link type="text/css" rel="stylesheet" href="lib/xonomy/xonomy.css"/>
	<link type="text/css" rel="stylesheet" href="lib/chartacaeli.css">
</head>
<body data-spy="scroll" data-target="#ccNavbar">
	<!-- begin home -->
	<div id="ccHome">
		<!-- begin navigation -->
		<nav class="navbar navbar-expand-xl fixed-top">
		<div class="container-fluid">
			<a class="navbar-brand" href="#ccHome"><img src="brand.png" alt="Charta Caeli"></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ccNavbar">
				<span class="custom-toggler-icon"><i class="fas fa-bars"></i></span>
			</button>
			<div id="ccNavbar" class="collapse navbar-collapse">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item">
						<a class="nav-link" href="#ccHome">home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#ccGallery">gallery</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#ccOverview">overview</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#ccComposer">composer</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#ccConcepts">concepts</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#ccCommunity">community</a>
					</li>
				</ul>
			</div>
		</div>
		</nav>
		<!-- end navigation -->
		<!-- begin caption -->
		<div class="caption container">
			<div class="row h-100">
				<div class="caption-intro col-12 h-50 ">
					<h1>it's all about stars...</h1>
				</div>
				<div class="caption-outro col-12 align-self-end text-center">
					<a class="btn btn-lg btn-outline-primary" role="button" href="#ccGallery"><h1>...map 'em!</h1></a>
				</div>
			</div>
		</div>
		<!-- end caption -->
	</div>
	<!-- end home -->
	<!-- begin gallery -->
	<div id="ccGallery" class="navbar-offset">
		<div class="container section">
			<!-- gallery caption -->
			<h2 class="headline">gallery</h2>
			<hr class="ruler-top">
			<p class="lead">See what Charta Caeli can do. View full size gallery items in PDF and read about their features or load chart definitions from gallery into composer as templates for your own beautiful star charts.
			</p>
			<!-- gallery items carousel -->
			<div id="ccGalleryCarousel" class="carousel slide" data-ride="carousel">
				<div class="carousel-inner">
					<div class="carousel-item" data-view="general-features-selection.pdf" data-info="#ccInfoGen" data-edit-chart="lab/general-features-selection.xml" data-edit-prefs="lab/general-features-selection.preferences">
						<img class="d-block w-100" src="ccGallery_general-features-selection.png" alt="General features selection">
						<div class="carousel-caption">
							<h3 class="d-none d-md-block">General features selection</h3>
						</div>
					</div>
					<div class="carousel-item active" data-view="scientific-star-chart.pdf" data-info="#ccInfoSci" data-edit-chart="lab/scientific-star-chart.xml" data-edit-prefs="lab/scientific-star-chart.preferences">
						<img class="d-block w-100" src="ccGallery_scientific-star-chart.png" alt="Scientific star chart">
						<div class="carousel-caption">
							<h3 class="d-none d-md-block">Scientific star chart</h3>
						</div>
					</div>
					<div class="carousel-item" data-view="artistic-star-chart.pdf" data-info="#ccInfoArt" data-edit-chart="lab/artistic-star-chart.xml" data-edit-prefs="lab/artistic-star-chart.preferences">
						<img class="d-block w-100" src="ccGallery_artistic-star-chart.png" alt="Artistic star chart">
						<div class="carousel-caption">
							<h3 class="d-none d-md-block">Artistic star chart</h3>
						</div>
					</div>
					<div class="carousel-item" data-view="artistic-star-chart--toppage.pdf" data-info="#ccInfoArt" data-edit-chart="lab/artistic-star-chart--toppage.xml" data-edit-prefs="lab/artistic-star-chart--toppage.preferences">
						<img class="d-block w-100" src="ccGallery_artistic-star-chart--toppage.png" alt="Only the chart from artistic star chart">
						<div class="carousel-caption">
							<h3 class="d-none d-md-block">Artistic star chart overlay</h3>
						</div>
					</div>
					<div class="carousel-item" data-view="artistic-star-chart--artwork.pdf" data-info="#ccInfoArt" data-edit-chart="lab/artistic-star-chart--artwork.xml" data-edit-prefs="lab/artistic-star-chart--artwork.preferences">
						<img class="d-block w-100" src="ccGallery_artistic-star-chart--artwork.png" alt="Background graphics from artistic star chart">
						<div class="carousel-caption">
							<h3 class="d-none d-md-block">Artistic star chart artwork</h3>
						</div>
					</div>
				</div>
			</div>
			<!-- gallery item actions -->
			<div class="text-center">
				<div class="d-inline-block">
					<a id="ccBtnView" class="btn btn-lg btn-outline-primary" role="button" href="scientific-star-chart.pdf" target="_blank" title="Open PDF"><i class="far fa-file-pdf"></i></a>
					<a id="ccBtnInfo" class="btn btn-lg btn-outline-primary" role="button" href="#ccInfoSci" title="Show details"><i class="fas fa-info"></i></a>
					<a id="ccBtnLoad" class="btn btn-lg btn-outline-primary" role="button" href="#ccComposer" title="Load into composer"><i class="fas fa-pen"></i></a>
				</div>
			</div>
		</div>
	</div>
	<!-- end gallery -->
	<!-- begin gallery info -->
	<div id="ccInfoSci" class="navbar-offset">
		<div class="container section">
			<div class="row">
				<div class="col-lg-7">
					<div class="info-txt lead">
						<h3 class="headline">Scientific<span class="d-none d-md-inline"> star</span> chart features</h3>
						<hr class="ruler-top">
						<p>This is a pretty common star chart. It shows an azimuthal projection of objects from the NGC 2000.0 catalog as one probably can see on the northern hemisphere. Object selection criterion is brightness, which restricts this chart to objects with a mag value of 10 and below. Another criterion derives from the fact of the presence of multiple objects with identical common names in the supplementary file of the catalog. The select expression restricts those to the first object.</p>
						<p>An application specific font provides the glyphs representing the different types of sky objects contained in the NGC 2000.0 catalog (for instance star, nebula, galaxy).</p>
						<p>The focus of this chart is on the subject matter of giving precise information about the position of sky objects and their orientations with respect to different reference systems. A somewhat inaccurate element is the suggestion of the Milky Way, which nevertheless helps to orientate oneself in the night sky and not least is worth a mapping because of its mere extent.</p>
						<p>The example applies the major elements that make up a chart definition, namely charts, horizons, circles, dials, annotations and catalogs. Grid and comments are faint and small but not too much to make sure they're useful and readable.</p>
						<hr class="ruler-sep">
						<h4>The Chart element</h4>
						<p>This outermost piece of XML data starts a chart definition. Actually, there is one more element above Chart but that’s essentially to group multiple chart definitions in a single file. Chart is of XSD type choice and serves to define the projection type, which in turn is a child of Chart. Furthermore, Chart defines page dimensions and a viewport, which is a kind of passe-partout.</p>
						<h4>The Horizon element</h4>
						<p>Similar to Chart this element serves to define a horizon type, which is sort of a synonym for coordinate system. Interpretation of object coordinates depends on their horizon type. Three of these are almost fix coordinate systems as they change due to sky mechanics: the equatorial, the ecliptical and the galactical one. The local horizon is a variable one because it’s defined by earth coordinates.</p>
						<h4>The Circle element</h4>
						<p>These serve to define grids. Not surprisingly, Circle as well is a choice to pick a type. Meridian and parallel circles draw lines of height and length, respectively. They are horizon dependent and correspond if for instance defined for a local horizon with its latitudes and longitudes. There are four special Circle elements of type parallel to define the northern and southern tropic and polar circles.</p>
						<h4>The Dial element</h4>
						<p>Attached to a circle a Dial provide a means of scale. The two types of dials are day and degree with the day type being a special one. The other one is fairly universal and suitable for appending a scale to any circle in a chart definition.</p>
						<h4>The Annotation element</h4>
						<p>The specification foresees straight and curved annotations. The latter are useful to add comments that follow the paths of circles. Straight annotations happen to appear at the point where drawing stops. They refer to the page coordinate system. Many elements support annotations and thus a way to provide further explanations on them. A special case is the Frame element defined by the Layout element, which allows a more flexible positioning of straight annotations.</p>
						<h4>The Catalog element</h4>
						<p>Charta Caeli supports some of the more popular star catalogs for instance The Bright Star Catalogue. The Catalog element supplies a choice to pick a catalog type, which applied with an URL fetches the catalog data from Internet or local file. An expression supplied to the attribute value interpreter might restrict the output of catalog content.</p>
					</div>
				</div>
				<div class="col-lg-5 text-center d-none d-lg-block">
					<figure>
						<a href="scientific-star-chart.png"><img class="info-img mx-auto" src="scientific-star-chart.png" alt="Charta Caeli scientific star chart"></a>
						<figcaption class="figure-caption">Scientific star chart image (click to enlarge)</figcaption>
					</figure>
				</div>
			</div>
		</div>
	</div>
	<div id="ccInfoArt" class="navbar-offset">
		<div class="container section">
			<div class="row">
				<div class="col-lg-7 order-lg-2">
					<div class="info-txt lead">
						<h3 class="headline">Artistic<span class="d-none d-md-inline"> star</span> chart features</h3>
						<hr class="ruler-top">
						<p>The chart concentrates on styles and aims for a good-looking appearance. Despite there is no need for images of ancient constellations on a star chart, it’s nice to see an artist’s impression of those constellations. Nor is it useful to stretch the orbits of the moon outward, to make it clear that it’s turning around earth several times a year. In addition, changes of the font style do not contribute to chart readability, nor does the fragmented and irregular grid. Overall, these somewhat mannered features make this star chart quite interesting looking which might be an aim on its own.</p>
						<p>The chart utilizes different shades of gray in combination with field of view to highlight meanings of constellations: the pale Eridianus seems to flow out of the chart in the top-right section, constellations that make up the Zodiac are dark and leave the chart at the bottom, while finally the other constellations in medium gray end at the chart border.</p>
						<p>The chart definition uses the elements Artwork, Sign and Body besides the standard elements (for example Chart, Horizon, Circle). Of these three, only the latter is as well suitable for scientific star charts. The other two are for illustration purposes only, as their names reveal.</p>
						<hr class="ruler-sep">
						<p><span class="font-weight-bold">The Artwork element</span> defines an image to be mapped at the skies or simply to put somewhere at the page. The example uses images provided by the Stellarium project by reference, which are rather easy to replace by others. The equatorial coordinates of three stars, which are part of a constellation and three corresponding coordinates of an image that depicts that constellation comprise the definition.</p>
						<p><span class="font-weight-bold">The Sign element</span> provides a pretty abstract method to show constellations by connecting sky objects with straight lines.</p>
						<p><span class="font-weight-bold">The Body element</span> represents any type of sky object supported by Charta Caeli. It provides a choice among various types: sun, planets and stars of course, but objects that are more general are foreseen as well, namely those following elliptical and parabolical paths like man-made satellites and comets. The Catalog element actually uses the star type Body element to draw objects.</p>
					</div>
				</div>
				<div class="col-lg-5 order-lg-1 text-center d-none d-lg-block">
					<figure>
						<a href="artistic-star-chart.png"><img class="info-img mx-auto" src="artistic-star-chart.png" alt="Charta Caeli artistic star chart"></a>
						<figcaption class="figure-caption">Artistic star chart image (click to enlarge)</figcaption>
					</figure>
				</div>
			</div>
		</div>
	</div>
	<div id="ccInfoGen" class="navbar-offset">
		<div class="container section">
			<div class="row">
				<div class="col-lg-7">
					<div class="info-txt lead">
						<h3 class="headline">General features<span class="d-none d-md-inline"> selection</span></h3>
						<hr class="ruler-top">
						<p>Although not really a star chart and not even good-looking the definition gives practical insights on how to use some of Charta Caeli's concepts in practice. Having the chart definition from the repository at hands will further help understanding what’s going on.</p>
						<hr class="ruler-sep">
						<h4>Layout and text</h4>
						<p>The layout feature uses a debug entry in the chart specific preferences file to make the layout grid visible to the frames in use. One wouldn’t use this in a real star chart, but it it is useful during development.</p>
						<p>Position of text happens by combination of two anchor points from the text element and the frame in question. They sum up to nine for each: four for the corners, four for the middles of the edges and one for the center. The text anchor points actually refer to the bounding box of the text. Combining the anchor point values <span class="text-monospace">topleft</span> and <span class="text-monospace">center</span> of a text and a frame element yields a text starting in the top-left corner of the bottom-right frame quarter. The frame rectangles along the axes each show the frame number and the number of logical units these frames span.</p>
						<h4>Unicode and fonts</h4>
						<p>The example uses the Arial Unicode MS font, which contains a large subset of glyphs defined by Unicode 2.1. The font is licensed and therefore not available in the Charta Caeli web service. Despite of this the example gives a good impression of what’s possible in terms of I18N if a respective font is available. Note multiple text elements for each language section in the chart definition, which is due to a lack of newline.</p>
						<h4>Field of view</h4>
						<p>The inner circle in the middle shows an azimuthal projection of the stars in The Bright Star Catalogue. The circle is tagged as Field of View (FOV) thus restricting catalog output to the circle area. This is the so-called effective FOV, which affects catalog output as well as outputs from Artwork, Sign and Body elements. The outer circle has slightly flattened sections at the left and right side. These result from a combination with the passe-partout that restricts output of every element. This one is called global FOV.</p>
						<h4>Attribute value interpreter</h4>
						<p>This one enables to define values for some attributes at runtime during chart generation. The sample utilizes the feature to restrict stars output by the Catalog element on those with mag values of 3 and below. The interpreter provides access to certain runtime variables, simple arithmetic and string matching as well as conditions cribbed from C’s ternary conditional operator. Complex expressions tend to be difficult to read because of escapes for reserved characters and use of XML character entity references. Luckily, there are online services for XML encoding/ decoding available to ease the task.</p>
					</div>
				</div>
				<div class="col-lg-5 text-center d-none d-lg-block">
					<figure>
						<a href="general-features-selection.png"><img class="info-img mx-auto" src="general-features-selection.png" alt="Charta Caeli general features selection"></a>
						<figcaption class="figure-caption">General features selection image (click to enlarge)</figcaption>
					</figure>
				</div>
			</div>
		</div>
	</div>
	<!-- end gallery info -->
	<!-- begin overview -->
	<div id="ccOverview" class="navbar-offset">
		<div class="container section lead">
			<!-- overview caption -->
			<h2 class="headline">overview<small class="text-muted d-none d-md-inline"> and a look under the hood</small></h2>
			<hr class="ruler-top">
			<p>Charta Caeli generates PDF star charts from XML chart definitions according to a XSD chart specification. The overall architecture is similar to a three-piece Russian doll: a web service contains the application, which in turn contains the core program.</p>
			<p>AWS hosts the web service. There are quite a number of cloud services in place. EC2 for instance runs the application, S3 buckets store PDF output as objects and the NAT service enables the application to retrieve data from Internet.</p>
			<figure id="ccFigWS" class="figure d-block mx-auto">
				<a href="web-service-structure.svg"><img class="figure-img img-fluid" src="web-service-structure.svg" alt="The Charta Caeli web service"></a>
				<figcaption class="figure-caption">The Charta Caeli web service provides public access to the star chart application (Icons by <a href="https://iconmonstr.com/">iconmonstr</a>).</figcaption>
			</figure>
			<p>The application is a compilation of several programs and configuration files that all together perform the task of generating PDF star charts from XML definitions.</p>
			<figure id="ccFigArch" class="figure d-block mx-auto">
				<a href="application-structure.svg"><img class="figure-img img-fluid" src="application-structure.svg" alt="The building blocks of the Charta Caeli application architecture"></a>
				<figcaption class="figure-caption">The building blocks of the Charta Caeli application architecture (Icons by <a href="https://iconmonstr.com/">iconmonstr</a>).</figcaption>
			</figure>
			<p>The core is a Java program that actually generates Postscript code and makes use of Ghostscript for PDF conversion. Java preferences files control execution providing technical settings as well as mappings of abstract values in chart definitions to numbers or even Postscript code. Java properties files provide multi-language support.</p>
			<p>The Java program at the core of the Charta Caeli application architecture is a kind of puzzle made up of a number of rather good concepts and technologies picked from others. Castor does the XML and XSD handling. PJ Naughter's C++ implementation of Astronomical Algorithms from Jean Meeus' eponymous book serves the astronomical mathematics. Charta Caeli uses the Java Topology Suite to calculate common geometric functions and the application’s attribute value interpreter bases on Fritz Ritzberger’s RunCC parser generator. Alan Kaminsky's Java Parallel 2 Library does the CUDA stuff and last not least various libraries from Apache Commons are in place as well.</p>
			<figure id="ccFigCore" class="figure d-block mx-auto">
				<a href="java-program-structure.svg"><img class="figure-img img-fluid" src="java-program-structure.svg" alt="The core of of Charta Caeli"></a>
				<figcaption class="figure-caption">The core of of Charta Caeli. A Java program realizes concepts and ties external components together.</figcaption>
			</figure>
			<p>The curious and brave ones might want to check out the <a href="https://github.com/otabuzzman/chartacaeli">chartacaeli repository</a> on GitHub and get it up and running on their local Windows or Linux boxes. Share your experiences in case you try...</p>
		</div>
	</div>
	<!-- end overview -->
	<!-- begin composer -->
	<div id="ccComposer" class="navbar-offset">
		<div class="container section lead">
			<h2 class="headline">composer</h2>
			<hr class="ruler-top">
			<p>Here is the place to jump-start your Charta Caeli experience. This specialized XML editor is for instant creating simple chart definitions from scratch. It supports the whole chart specification as defined by XSD although UX/UI regarding hints on syntax or numerical ranges is poor. The editor even serves well in playing around with values of larger definitions as provided by the gallery. Things get hard however when it comes to chart definitions with hundreds of elements and in particular on mobile devices. Due to this, if you plan to define a large chart from scratch consider using your favorite XML editor locally and upload the file when ready.</p>
			<div class="alert alert-primary d-sm-block d-md-none">
				<p>Crap! Display too small to edit but loaded anyway. Try composer on tablet or PC.</p>
			</div>
			<hr class="ruler-sep">
			<div id="ccXonDiv" class="d-none d-md-block"></div>
			<div class="text-center">
				<div class="d-inline-block">
					<div>
						<button class="ccBtnTglP btn btn-outline-secondary d-sm-block d-md-none" type="button" title="Toggle to preferences" disabled>toggle to <strong>preferences</strong></button>
						<button id="ccBtnTglP" class="btn btn-outline-primary d-none d-md-block" type="button" title="Toggle to preferences" disabled>toggle to <strong>preferences</strong></button>
						<button id="ccBtnTglD" class="btn btn-outline-primary d-none" type="button" title="Toggle to preferences" disabled>toggle to <strong>definition</strong></button>
					</div>
					<button class="ccBtnNew btn btn-outline-secondary d-sm-inline d-md-none" type="button" title="New" disabled><i class="far fa-file"></i></button>
					<button id="ccBtnNew" class="btn btn-outline-primary d-none d-md-inline" type="button" title="New"><i class="far fa-file"></i></button>
					<button id="ccBtnOpen" class="btn btn-outline-primary" type="button" title="Open"><i class="far fa-folder-open"></i></button>
					<button id="ccBtnExec" class="btn btn-outline-primary" type="button" title="Execute" disabled><i class="ccwf-brandicon"></i></button>
					<button class="ccBtnSave btn btn-outline-secondary d-sm-inline d-md-none" type="button" title="Save" disabled><i class="far fa-save"></i></button>
					<button id="ccBtnSave" class="btn btn-outline-primary d-none d-md-inline" type="button" title="Save" disabled><i class="far fa-save"></i></button>
					<button class="ccBtnLast btn btn-outline-secondary d-sm-inline d-md-none" type="button" title="Undo all" disabled><i class="fas fa-undo"></i></button>
					<button id="ccBtnLast" class="btn btn-outline-primary d-none d-md-inline" type="button" title="Undo all" disabled><i class="fas fa-undo"></i></button>
				</div>
			</div>
		</div>
	</div>
	<!-- end composer -->
	<!-- begin concepts -->
	<div id="ccConcepts" class="navbar-offset">
		<div class="pragma-bg-headimg">
		<div class="pragma-bg-footimg">
		<div class="pragma-bg-opacity">
		<div class="container section lead">
			<!-- concepts caption -->
			<h2 class="headline">concepts<small class="text-muted d-none d-md-inline"> soap and credits</small></h2>
			<hr class="ruler-top">
			<p>There are some major concepts that guided development of Charta Caeli. Some few had been there at the beginning of the project but most of them came up while working proceeds. One might call them requirements as well but the term concept implies weaker obliging. In fact, not every concept made it to a full implementation but only to a certain degree and few concepts even haven't been touched at all, yet.</p>
			<p>The application shall produce star charts of high quality and precision that scale to arbitrary size. The charts should reflect the aesthetical claims of individual users. This idea kicked off the project and it can therefore considered the core concept of Charta Caeli. Others are important as well but none of them more than this simple thing, namely to have a tool to create huge star charts, which are fun to look at and maybe to work with - in order specified.</p>
			<p>The tool has to be self-contained. That is, once setup properly the system puts out a star chart according to the definition a user fed into it without any post processing. A subtopic of this concept is to capsule chart definitions in a single XML file optionally supplemented by definition specific preferences and properties files. Not a big thing indeed, but helpful to ease sharing.</p>
			<p>Star chart definition syntax shall focus on the topic and provide a common terminology. Preferences and properties files store configurations necessary to support terminology as well as technical settings.</p>
			<p>Charta Caeli shall support any international language. Although sounding easy this is a hard one because Postscript has no I18N built-in. Any Postscript font encoding cannot exceed a maximum of 256 different characters regardless how many characters a particular font contains. The concept however demands a mechanism to define and output any Unicode character as long as there is a font containing these characters.</p>
			<div class="text-sep text-center"><i class="ccwf-brandicon"></i></div>
			<p>The spark for Charta Caeli had been an artist's impression of an azimuthal projection of the northern and southern skies pinned to an office wall. The question was if a tool could generate that kind of poster and combine the aspect of being large and beautiful with scientific precision.</p>
			<p><a href="https://www.google.com/search?q=gnuplot+homepage">Gnuplot</a> by chance became the tool of choice and Windows the development platform. Working on drafts evolved rapidly and soon there was a first chart showing a grid without stars. Astrolabe was the working title of the project. It was inspired by one of the first known astronomical tools used by ancient astronomers to find out what's going on in the sky. As features grew, the development environment grew as well until it finally was too complex to handle. Numerous scripts based on <a href="https://www.cygwin.com/">Cygwin</a> had come into place to fill the growing gap of missing functionality in Gnuplot. At the end, a bulk of additional tools buried Gnuplot and the project migrated to Java. <a href="https://www.eclipse.org/">Eclipse</a> became the IDE. Two concepts however survived the Gnuplot epoch, namely Postscript as the output format and some Postscript code borrowed from Gnuplot that allows typesetting subscript and superscript.</p>
			<p>Moving to a proper programming environment with virtually infinite possibilities resulted quickly in a large number of spontaneous ideas for features. Defining and following some core concepts helped to keep the project on track. Collecting new ideas in a spreadsheet for later review helped focusing on current tasks without fear to forget valuable things.</p>
			<p>From that point on more and more concepts, technologies and tools came to use during development. Some needed only once for special purposes but many became part of the environment which finally grew more complex than it was before it switched from Gnuplot to Java. One remarkable one is an implementation of an application-wide stack-oriented registry inspired by US Patent <a href="https://patents.google.com/patent/US6785691B1/">US6785691B1</a>.</p>
			<p>Java moved development efforts from wondering how to coding. Of course, that would had been the same with any other object oriented programming language but Java was there when the project reached for it. It seemed that XML was the markup language for everything and thus would meet the needs of chart definitions as well. Castor tied the chart specification XSD to the application and Altova's new XMLSpy Home Edition (unfortunately no longer available) pushed to the top of the project's most popular and free XML editors. There it still is although Altova stopped the edition. <a href="https://www.google.com/search?q=xmlstarlet+command+line">XMLStarlet</a> and its XPath query features exposed to be the tools for any kind of XML access from scripts.</p>
			<p>Poseidon from Gentleware was in use for a while to support application design with UML principles and to document the software at the same time. The approach dropped when JNI came into play and Poseidon’s code generator reached to his limits. <a href="https://www.google.com/search?q=naughter+aaplus">PJ Naughter's AA+ library</a> pushed the project towards JNI. He actually transcribed the whole mathematics from <a href="https://www.amazon.com/s?url=search-alias%3Daps&field-keywords=astronomical+algorithms+meeus">Jean Meeus' book Astronomical Algorithms</a> to C++ code. The JNI wrapping of AA+ handled <a href="https://www.google.com/search?q=cxxwrap+written+generate+jni+code">CXXWRAP</a> a nifty tool from Dave Daeven that generates Java classes and C++ stubs automatically.</p>
			<div class="text-sep text-center"><i class="ccwf-brandicon"></i></div>
			<p>One of the bread and butter tasks in Charta Caeli is to convert Postscript output to PDF. The search for a robust tool easily led to <a href="https://www.ghostscript.com/">Ghostscript</a>, which got the job due to its fame and versatility. Various JAR files from <a href="https://commons.apache.org/">Apache Commons</a> made it into the project to fulfill other common tasks. The most persistent ones are those from Lang, Logging and Math because they remained until now. The latter however got reinforcement through the <a href="https://projects.eclipse.org/projects/locationtech.jts">Java Topology Suite</a>, which greatly simplifies the calculation of areal intersections as needed by the field of view feature.</p>
			<p>The Unicode thing was underestimated. Turning the Gnuplot Postscript code excerpt into a more general print procedure and specifying preferences to configure the application to use fonts containing Unicode characters were the easy parts. Things got hard when it came to really define a Unicode font based on a given font file, say for <a href="https://en.wikipedia.org/wiki/Arial_Unicode_MS">Arial Unicode MS</a> which contains thousands of glyphs. It was Cygwin, the Swiss knife for Linux developers who went to Windows, that once more managed to get the job done by orchestrating a couple of scripts and the <a href="https://www.google.com/search?q=ffae9ec6-3bf6-488a-843d-b96d552fd815+fonttools+exe">TTFDUMP</a> tool taken from a package provided by Microsoft. The scripts are in the repository. They are for ad-hoc usage and therefore poorly documented. They extract CMAP data and character strings from TrueType font files and finally merge these three data items into well-formed preferences file entries.</p>
			<p>Though not regularly reported by the evening news there are some repositories for star catalogs. The <a href="http://cdsweb.u-strasbg.fr/">Strasbourg astronomical Data Center</a> for instance hosts a bulk of carefully maintained catalog files for public access. Almost all of them are ASCII encoded thus human readable files with each line representing a record, which in turn has fixed width fields or defines a special field separation character.</p>
			<p>These catalogs were easy to implement and the project decided to support several of them right away, namely <a href="http://cdsarc.u-strasbg.fr/viz-bin/cat/I/239">The Hipparcos and Tycho Catalogues</a>, <a href="http://cdsarc.u-strasbg.fr/viz-bin/cat/V/50">The Bright Star Catalogue</a>, the <a href="http://vizier.u-strasbg.fr/viz-bin/cat/V/109">SKY2000 Master Catalog</a>, the <a href="http://cdsarc.u-strasbg.fr/viz-bin/cat/VII/118">NGC 2000.0</a> and the <a href="http://cdsarc.u-strasbg.fr/viz-bin/cat/VII/237">HYPERLEDA. I. Identification and designation of galaxies</a>.</p>
			<p>A special one but nevertheless supported is the <a href="http://cdsarc.u-strasbg.fr/viz-bin/cat/VI/49">Catalogue of Constellation Boundary Data</a> which contains area information as the name might imply. However, the most special one because exclusively designed for Charta Caeli is the so-called DS9 catalog. It contains area information as well but these are from the Milky Way our home galaxy. A bundle of contour files comprises the catalog. Each file defines an area of approximately equal brightness. The file format is from a popular astronomical tool called <a href="https://www.google.com/search?q=saoimage+ds9">SAOImage DS9</a> and utilized by the project to compile the catalog. Raw data is from <a href="https://www.google.com/search?q=axel+mellinger+milky+way+panorama">Axel Mellinger's beautiful Milky Way panorama</a> photography. <a href="https://www.astromatic.net/software/sextractor">SExtractor</a> is the somewhat ambiguous name of another tool from the astronomical community used to extract the relevant data from Axel's image.</p>
			<p>Implementing a simple inline interpreter for attribute values in XML files accompanied catalog development to have an option to select special catalog records. <a href="https://www.google.com/search?q=fritz+ritzberger+java+runtime+compiler">Fritz Ritzberger's Java Runtime Compiler Compiler RunCC</a> made a solid impression and it was therefore an easy decision to make it join the tool zoo.</p>
			<p>The incredible <a href="https://www.gimp.org/">Gimp</a> and hours of watching YT videos on how to use it, many watched more than once, led to a first website design. The artworks on the site you are just visiting are remnants of this project phase. Later <a href="https://www.imagemagick.org/">ImageMagick</a> supplemented the project's graphic tools with a CLI and allowed many of Gimp's GUI functions also on the command line.</p>
			<p>The <a href="https://www.dafont.com/de/search.php?q=justinian">Justinian font from Dan Zadorozny</a> and its modern adaption of ancient typesetting situated somewhere between Greek and Roman was found to be a good representation of the projects aims. This impression is contrary to the assumption that the Roman emperor and name founder <a href="https://en.wikipedia.org/wiki/Justinian_I">Justinian I.</a> was a rather backward-looking ruler, but this does not detract from the impression of the font. With the introduction of the font, also the name got a change from Astrolabe to Charta Caeli. The Latin term still refers ancient astronomical science but according to Google, it doesn't appear in the terminology of the astronomical Internet community and was therefore considered unique in this context.</p>
			<p>Providing a clickable sky atlas using <a href="https://github.com/weworkweplay/mapper.js">mapper.js from We Work We Play</a> was another feature temporarily followed by the project. Inspiration came from sample charts of the <a href="https://www.amazon.com/s?url=search-alias%3Daps&field-keywords=interstellarum+deep+sky+atlas+stoyan+schurig">Interstellarum Deep Sky Atlas</a> and the <a href="https://www.amazon.com/s?url=search-alias%3Daps&field-keywords=millennium+star+atlas+sinnott+perryman">Millennium Star Atlas</a>. Especially the first served the project as wonderful examples of lovingly crafted star charts.</p>
			<p>Another feature inspired by the sample charts was an application specific font containing glyphs to differentiate special kinds of deep sky objects like galaxies, clusters and nebulae in an iconic manner. Implementing this resulted in a handcrafted Type 3 font and was a project on its own...</p>
			<p>The project moved to the cloud. GitHub took over source code management, and the numerous copies of project files saved on USB sticks, external hard disks and DVDs became obsolete. Astrolabe and Charta Caeli each got its own repository whereas <a href="https://github.com/otabuzzman/astrolabe">Astrolabe</a> intentionally doesn’t build, but just holds a chronological archive of project states back to beginnings with Gnuplot.</p>
			<div class="text-sep text-center"><i class="ccwf-brandicon"></i></div>
			<p>The five-star open source planetarium program <a href="https://stellarium.org/en/">Stellarium</a> provided the idea for an extension to draw artistic representations of the ancient constellations. It provided important parts of the mapping algorithm as well as beautiful drawings both cribbed and referenced by Charta Caeli, respectively. The derived algorithm turned out quite slow but luckily <a href="https://en.wikipedia.org/wiki/General-purpose_computing_on_graphics_processing_units">GPGPU</a> came around the corner these days and the most challenging phase of the project began. A belly decision brought <a href="https://developer.nvidia.com/cuda-zone">CUDA</a> from NVIDIA into play and coincidentally <a href="https://www.cs.rit.edu/~ark/pj2.shtml">Alan Kaminsky's Parallel Java 2 Library</a> as well, which promised to minimize parallelization efforts.</p>
			<p>However, things got complicated anyway due to the lack of a CUDA capable device. <a href="https://aws.amazon.com/">AWS</a> filled the gap with a G2 instance but claimed a charge for it. Furthermore, Visual Studio Community had to join the toolset because the CUDA SDK won't run the compilers supplied by Cygwin. Moreover, to make things complete the CUDA SDK won't compile as well if there's no CUDA device. Therefore, the approach was to develop, compile and test as much as possible on local environment and to utilize AWS as a final step, ideally just to confirm everything's ok.</p>
			<p>To accomplish this every piece of CUDA code, that is code executing on a CUDA capable device, got a local peer bound to the application via JNI and tested with JUnit. Even the so-called kernels at the very heart of any CUDA program, had been developed and tested this way before compiled for CUDA and deployed to the AWS instance. Fortunately, with some manual interventions the SDK compiled for CUDA even without an appropriate device. The details to this are in another repository on GitHub.</p>
			<p>Finally, CUDA came to work and the algorithm boosted as expected. The German computer magazine c't published the approach and there is an <a href="https://create.piktochart.com/output/25355418-java-parallelization-with-cuda">English infographic</a> as well which furthermore is free of charge.</p>
			<p>This is a good time to mention the community on <a href="https://stackoverflow.com/">Stackoverflow</a> and their priceless efforts for providing valuable answers to seemingly any problem or question a software developer might ever have.</p>
			<p>Current work focuses on website development and integration with social media. Part of this was in focus earlier but suspended, mainly because there was no UI concept to create chart definitions in a browser. Now there is <a href="https://github.com/michmech/xonomy">Xonomy from Michal Boleslav Měchura</a> and work continues...</p>
		</div>
		</div>
		</div>
		</div>
	</div>
	<!-- end concepts -->
	<!-- begin community -->
	<div id="ccCommunity">
		<div class="container">
			<div class="row">
				<div class="col text-center">
					<a href="#ccHome"><img class="img-fluid d-sm-inline d-md-none" src="brandicon.png" alt="Charta Caeli"></a>
					<a href="#ccHome"><img class="img-fluid d-none d-md-inline" src="brand.png" alt="Charta Caeli"></a>
					<p>Stay tuned and share...
					<br><span class="contact-social">
						<a href="#"><i class="fab fa-facebook"></i></a>
						<a href="#"><i class="fab fa-twitter"></i></a>
						<a href="#"><i class="fab fa-instagram"></i></a>
						<a href="#"><i class="fab fa-pinterest"></i></a>
						<a href="https://github.com/otabuzzman/chartacaeli"><i class="fab fa-github"></i></a>
						<a href="#"><i class="fas fa-envelope"></i></a></span>
					</p>
				</div>
			</div>
		</div>
	</div>
	<!-- end community -->

	<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

	<script type="text/javascript" src="lib/xonomy/xonomy.js"></script>
	<script type="text/javascript" src="lib/chartacaeli.xsd.js"></script>
	<script type="text/javascript" src="lib/preferences.dtd.js"></script>
	<script type="text/javascript" src="lib/chartacaeli.js"></script>
</body>
</html>
